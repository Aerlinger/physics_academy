<% provide(:title, @lesson.title) %>

<!-- Padding for window -->
<div class="challenge-background">

  <!-- Top Lesson navigation pathbar -->
  <div class="row-fluid">
    <ul class="breadcrumb">
      <li>
        <a href="#">Lessons</a> <span class="divider">/</span>
      </li>
      <li>
        <a href="#"><%= @lesson.title %></a> <span class="divider">/</span>
      </li>
      <li class="active">
        <a href="#"><%= @challenge.title %></a>
      </li>
    </ul>
  </div>

  <div class="row-fluid">

    <!-- Left Challenge NAVBAR -->
    <div class="plan-container span2 sidebar-nav">
      <div class="plan">
        <div class="plan-header">

          <div class="plan-title">
            <%= @lesson.title %>
          </div> <!-- /plan-title -->


          <div class="plan-price">
            <%= image_tag "thumbs/default.png" %> <span class="term">Completed X of Y Challenges</span>
          </div> <!-- /plan-price -->

        </div> <!-- /plan-header -->

        <div class="plan-features">
          <ul class="nav">
            <% @lesson.challenges.all.each_with_index do |challenge, index| %>
              <%= "<li #{"class='active'" if (index+1)==@challenge.id}}> <a href='tab#{index+1}' data-toggle='tab'> <i class='icon-book'> </i>&nbsp;#{challenge.title}</a> </li>".html_safe %>
            <% end %>
          </ul>
        </div> <!-- /plan-features -->

        <div class="plan-actions">
          <a href="javascript:;" class="btn">Submit</a>
        </div> <!-- /plan-actions -->

      </div> <!-- /plan -->
    </div>


    <!-- LESSON DESCRIPTION -->
    <div class="span10 plan-container best-value">
      <div class="plan">
        <div class="plan-header">

          <div class="plan-title">
            <%= "Challenge ##{@challenge.id}: #{@challenge.title}"%>
          </div> <!-- /plan-title -->

        </div> <!-- /plan-header -->

        <div class="plan-actions">
          <p><%= "#{@challenge.content}, #{@challenge.id}"%></p>
          <!--<a href="javascript:;" class="btn">Show next hint</a>-->
        </div> <!-- /plan-actions -->

      </div> <!-- /plan -->
    </div>

    <!-- LESSON CONTENT -->
    <div class="span8 offset3 well lesson-content" >
      <div style="height: 30em">

        <%= render 'challenge' %>

      </div>

      <!-- INFO DIALOG -->
      <div class="alert alert-error" style="margin-bottom: 0">
        <a class="close" data-dismiss="alert" href="#">&times;</a>
        <strong>Hey there!</strong> Warning, errors, and user feedback relevant to the <code>lesson</code> Will be posted here.
      </div>

    </div><!--/span-->


    <!-- HINT WINDOW -->
    <div class="span2 plan-container best-value">
      <div class="plan">
        <div class="plan-header">

          <div class="plan-title">
            Hints
          </div> <!-- /plan-title -->

        </div> <!-- /plan-header -->

        <div class="plan-actions">
          Stuck? Press the show hint button below to get a nudge in the right direction.
            You'll lose points though, so don't use it if you don't need to.
        </div> <!-- /plan-actions -->

        <div class="plan-actions">
          <a href="javascript:;" class="btn">Next Hint</a>
        </div> <!-- /plan-actions -->

      </div> <!-- /plan -->
    </div>

  </div><!--/row-->



  <!-- MODAL WINDOW -->
  <div class="modal hide" id="myModal">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal">Ã—</button>
      <h3>Hey There...</h3>
    </div>
    <div class="modal-body">
      <p>Looks like, you've reached a course that is currently under production</p>
    </div>
    <div class="modal-footer">
      <a href="#" class="btn" data-dismiss="modal">Close</a>
      <a href="#" class="btn btn-primary">Save changes</a>
    </div>
  </div>

</div>