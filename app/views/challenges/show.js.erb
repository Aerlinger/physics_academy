// Update challenge_navlist
$('#challenge_nav').html("<%= escape_javascript challenge_list %>");

// Update description pane
$('.challenge_title').html("<%= "Challenge #{@challenge.index}: #{@challenge.title}" %>");
$('.challenge_description').html("<%= @challenge.content %>");

// Append javascript debug messages
$(".chalkboard-background").append("<%= escape_javascript debug(@subscription) if Rails.env.development? %>")
$(".chalkboard-background").append("<%= escape_javascript debug(@lesson) if Rails.env.development? %>")

// Update the lesson center content
$("#task_content").html("<%=

  challenge_content_path = fetch_content_for_task(@lesson.index, @challenge.index)

  escape_javascript(
    begin
       render partial: challenge_content_path
    rescue ActionView::MissingTemplate
      "Couldn't find page for \"#{challenge_content_path}\""
    end
  )

%>");